import{bj as be,b2 as xe,bk as Ce,bl as q,a8 as S,a9 as E,aa as Q,a3 as M,ag as he,bm as we,bn as ye,K as $e,ak as te}from"../../index-YaKOZGEl.js";import{u as Ie,F as _e,N as le}from"./FormItemContext-DsDOunns.js";import{a as Oe,g as Se,u as je,b as J}from"./index-CQ0WrsSk.js";import{b as Ne,h as Y,a as K,i as Pe,f as oe,t as Ae,r as ne,c as Be}from"./inputProps-Dm5FUC2d.js";import{e as Z,r as X,j as d,s as U,w as se,v as ie,E as Fe,F as ce,y as re,b as ue,aj as Re,o as Ee}from"./vue-chunks-9-6Doc_H.js";var ze=be(Object.getPrototypeOf,Object),Ve="[object Object]",ke=Function.prototype,Me=Object.prototype,de=ke.toString,Te=Me.hasOwnProperty,De=de.call(Object);function Xe(e){if(!xe(e)||Ce(e)!=Ve)return!1;var g=ze(e);if(g===null)return!0;var t=Te.call(g,"constructor")&&g.constructor;return typeof t=="function"&&t instanceof t&&de.call(t)==De}const We=Z({name:"BaseInput",inheritAttrs:!1,props:Ne(),setup(e,g){let{slots:t,attrs:o}=g;const i=X(),h=f=>{var r;if(!((r=i.value)===null||r===void 0)&&r.contains(f.target)){const{triggerFocus:x}=e;x==null||x()}},u=()=>{var f;const{allowClear:r,value:x,disabled:b,readonly:N,handleReset:P,suffix:R=t.suffix,prefixCls:I}=e;if(!r)return null;const w=!b&&!N&&x,v=`${I}-clear-icon`,_=((f=t.clearIcon)===null||f===void 0?void 0:f.call(t))||"*";return d("span",{onClick:P,onMousedown:C=>C.preventDefault(),class:S({[`${v}-hidden`]:!w,[`${v}-has-suffix`]:!!R},v),role:"button",tabindex:-1},[_])};return()=>{var f,r;const{focused:x,value:b,disabled:N,allowClear:P,readonly:R,hidden:I,prefixCls:w,prefix:v=(f=t.prefix)===null||f===void 0?void 0:f.call(t),suffix:_=(r=t.suffix)===null||r===void 0?void 0:r.call(t),addonAfter:C=t.addonAfter,addonBefore:j=t.addonBefore,inputElement:z,affixWrapperClassName:T,wrapperClassName:D,groupClassName:a}=e;let s=q(z,{value:b,hidden:I});if(Y({prefix:v,suffix:_,allowClear:P})){const n=`${w}-affix-wrapper`,c=S(n,{[`${n}-disabled`]:N,[`${n}-focused`]:x,[`${n}-readonly`]:R,[`${n}-input-with-clear-btn`]:_&&P&&b},!K({addonAfter:C,addonBefore:j})&&o.class,T),O=(_||P)&&d("span",{class:`${w}-suffix`},[u(),_]);s=d("span",{class:c,style:o.style,hidden:!K({addonAfter:C,addonBefore:j})&&I,onMousedown:h,ref:i},[v&&d("span",{class:`${w}-prefix`},[v]),q(z,{style:null,value:b,hidden:null}),O])}if(K({addonAfter:C,addonBefore:j})){const n=`${w}-group`,c=`${n}-addon`,O=S(`${w}-wrapper`,n,D),A=S(`${w}-group-wrapper`,o.class,a);return d("span",{class:A,style:o.style,hidden:I},[d("span",{class:O},[j&&d("span",{class:c},[j]),q(s,{style:null,hidden:null}),C&&d("span",{class:c},[C])])])}return s}}});var Ue=function(e,g){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&g.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)g.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(t[o[i]]=e[o[i]]);return t};const Ke=Z({name:"VCInput",inheritAttrs:!1,props:Pe(),setup(e,g){let{slots:t,attrs:o,expose:i,emit:h}=g;const u=U(e.value===void 0?e.defaultValue:e.value),f=U(!1),r=U(),x=U();se(()=>e.value,()=>{u.value=e.value}),se(()=>e.disabled,()=>{e.disabled&&(f.value=!1)});const b=a=>{r.value&&Ae(r.value,a)};i({focus:b,blur:()=>{var a;(a=r.value)===null||a===void 0||a.blur()},input:r,stateValue:u,setSelectionRange:(a,s,n)=>{var c;(c=r.value)===null||c===void 0||c.setSelectionRange(a,s,n)},select:()=>{var a;(a=r.value)===null||a===void 0||a.select()}});const I=a=>{h("change",a)},w=(a,s)=>{u.value!==a&&(e.value===void 0?u.value=a:re(()=>{var n;r.value.value!==u.value&&((n=x.value)===null||n===void 0||n.$forceUpdate())}),re(()=>{s&&s()}))},v=a=>{const{value:s,composing:n}=a.target;if((a.isComposing||n)&&e.lazy||u.value===s)return;const c=a.target.value;ne(r.value,a,I),w(c)},_=a=>{a.keyCode===13&&h("pressEnter",a),h("keydown",a)},C=a=>{f.value=!0,h("focus",a)},j=a=>{f.value=!1,h("blur",a)},z=a=>{ne(r.value,a,I),w("",()=>{b()})},T=()=>{var a,s;const{addonBefore:n=t.addonBefore,addonAfter:c=t.addonAfter,disabled:O,valueModifiers:A={},htmlSize:l,autocomplete:p,prefixCls:$,inputClassName:y,prefix:V=(a=t.prefix)===null||a===void 0?void 0:a.call(t),suffix:k=(s=t.suffix)===null||s===void 0?void 0:s.call(t),allowClear:B,type:L="text"}=e,G=Q(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","size","bordered","htmlSize","lazy","showCount","valueModifiers","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName"]),F=M(M(M({},G),o),{autocomplete:p,onChange:v,onInput:v,onFocus:C,onBlur:j,onKeydown:_,class:S($,{[`${$}-disabled`]:O},y,!K({addonAfter:c,addonBefore:n})&&!Y({prefix:V,suffix:k,allowClear:B})&&o.class),ref:r,key:"ant-input",size:l,type:L});A.lazy&&delete F.onInput,F.autofocus||delete F.autofocus;const W=d("input",Q(F,["size"]),null);return Fe(W,[[Oe]])},D=()=>{var a;const{maxlength:s,suffix:n=(a=t.suffix)===null||a===void 0?void 0:a.call(t),showCount:c,prefixCls:O}=e,A=Number(s)>0;if(n||c){const l=[...oe(u.value)].length,p=typeof c=="object"?c.formatter({count:l,maxlength:s}):`${l}${A?` / ${s}`:""}`;return d(ce,null,[!!c&&d("span",{class:S(`${O}-show-count-suffix`,{[`${O}-show-count-has-suffix`]:!!n})},[p]),n])}return null};return ie(()=>{}),()=>{const{prefixCls:a,disabled:s}=e,n=Ue(e,["prefixCls","disabled"]);return d(We,E(E(E({},n),o),{},{ref:x,prefixCls:a,inputElement:T(),handleReset:z,value:oe(u.value),focused:f.value,triggerFocus:b,suffix:D(),disabled:s}),t)}}});var Le=function(e,g){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&g.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)g.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(t[o[i]]=e[o[i]]);return t};const Ye=Z({compatConfig:{MODE:3},name:"AInput",inheritAttrs:!1,props:Be(),setup(e,g){let{slots:t,attrs:o,expose:i,emit:h}=g;const u=X(),f=Ie(),r=_e.useInject(),x=ue(()=>Se(r.status,e.status)),{direction:b,prefixCls:N,size:P,autocomplete:R}=he("input",e),{compactSize:I,compactItemClassnames:w}=we(N,b),v=ue(()=>I.value||P.value),[_,C]=je(N),j=ye();i({focus:l=>{var p;(p=u.value)===null||p===void 0||p.focus(l)},blur:()=>{var l;(l=u.value)===null||l===void 0||l.blur()},input:u,setSelectionRange:(l,p,$)=>{var y;(y=u.value)===null||y===void 0||y.setSelectionRange(l,p,$)},select:()=>{var l;(l=u.value)===null||l===void 0||l.select()}});const s=X([]),n=()=>{s.value.push(setTimeout(()=>{var l,p,$,y;!((l=u.value)===null||l===void 0)&&l.input&&((p=u.value)===null||p===void 0?void 0:p.input.getAttribute("type"))==="password"&&(!(($=u.value)===null||$===void 0)&&$.input.hasAttribute("value"))&&((y=u.value)===null||y===void 0||y.input.removeAttribute("value"))}))};ie(()=>{n()}),Re(()=>{s.value.forEach(l=>clearTimeout(l))}),Ee(()=>{s.value.forEach(l=>clearTimeout(l))});const c=l=>{n(),h("blur",l),f.onFieldBlur()},O=l=>{n(),h("focus",l)},A=l=>{h("update:value",l.target.value),h("change",l),h("input",l),f.onFieldChange()};return()=>{var l,p,$,y,V,k;const{hasFeedback:B,feedbackIcon:L}=r,{allowClear:G,bordered:F=!0,prefix:W=(l=t.prefix)===null||l===void 0?void 0:l.call(t),suffix:H=(p=t.suffix)===null||p===void 0?void 0:p.call(t),addonAfter:ee=($=t.addonAfter)===null||$===void 0?void 0:$.call(t),addonBefore:ae=(y=t.addonBefore)===null||y===void 0?void 0:y.call(t),id:fe=(V=f.id)===null||V===void 0?void 0:V.value}=e,ve=Le(e,["allowClear","bordered","prefix","suffix","addonAfter","addonBefore","id"]),pe=(B||H)&&d(ce,null,[H,B&&L]),m=N.value,me=Y({prefix:W,suffix:H})||!!B,ge=t.clearIcon||(()=>d($e,null,null));return _(d(Ke,E(E(E({},o),Q(ve,["onUpdate:value","onChange","onInput"])),{},{onChange:A,id:fe,disabled:(k=e.disabled)!==null&&k!==void 0?k:j.value,ref:u,prefixCls:m,autocomplete:R.value,onBlur:c,onFocus:O,prefix:W,suffix:pe,allowClear:G,addonAfter:ee&&d(te,null,{default:()=>[d(le,null,{default:()=>[ee]})]}),addonBefore:ae&&d(te,null,{default:()=>[d(le,null,{default:()=>[ae]})]}),class:[o.class,w.value],inputClassName:S({[`${m}-sm`]:v.value==="small",[`${m}-lg`]:v.value==="large",[`${m}-rtl`]:b.value==="rtl",[`${m}-borderless`]:!F},!me&&J(m,x.value),C.value),affixWrapperClassName:S({[`${m}-affix-wrapper-sm`]:v.value==="small",[`${m}-affix-wrapper-lg`]:v.value==="large",[`${m}-affix-wrapper-rtl`]:b.value==="rtl",[`${m}-affix-wrapper-borderless`]:!F},J(`${m}-affix-wrapper`,x.value,B),C.value),wrapperClassName:S({[`${m}-group-rtl`]:b.value==="rtl"},C.value),groupClassName:S({[`${m}-group-wrapper-sm`]:v.value==="small",[`${m}-group-wrapper-lg`]:v.value==="large",[`${m}-group-wrapper-rtl`]:b.value==="rtl"},J(`${m}-group-wrapper`,x.value,B),C.value)}),M(M({},t),{clearIcon:ge})))}}});export{Ye as I,ze as g,Xe as i};
