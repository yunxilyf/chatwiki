import{_ as L,e as d}from"../../index-DpY37MP6.js";import{I as U}from"./InboxOutlined-1Y_iqk_n.js";import{U as b}from"./index-E-ONU3EK.js";import{b as w,r as y,w as M,L as m,M as _,j as f,Q as k,V as s,u as S,F as T,a1 as B,Y as C,a4 as V,a5 as j}from"./vue-chunks-DHtPn771.js";const r=o=>(V("data-v-a09e6413"),o=o(),j(),o),A={class:"upload-input"},D={class:"ant-upload-drag-icon"},N=r(()=>s("div",{class:"ant-upload-text"},"点击或将文件拖拽到这里上传",-1)),R={class:"ant-upload-hint"},W=r(()=>s("p",null,"支持多个文档同时上传，单个文件不超过100M",-1)),z=r(()=>s("span",null,"支持文件类型：",-1)),E={__name:"upload-input",props:{value:{type:Array,default:()=>[]}},emits:["change","update:value"],setup(o,{emit:v}){const c=v,h=o,i=["pdf","docx","txt","md","xlsx","csv","html"],g=w(()=>i.map(e=>`.${e}`).join(",")),t=y([]);M(()=>h.value,e=>{t.value=e},{immediate:!0});let l=null;const p=()=>{let e=[...t.value];c("change",e),c("update:value",e)},x=e=>{I(e),p()},I=e=>{for(let a=0;a<t.value.length;a++)if(t.value[a].uid===e.uid){t.value.splice(a,1);break}},F=e=>{const a=e.name.split(".").pop();return i.includes(a.toLowerCase())?e.size/1024/1024<100?(t.value=[...t.value||[],e],l&&clearTimeout(l),l=setTimeout(()=>{p(),clearTimeout(l)},50),!1):(d.error("文件大小不能超过100M"),!1):(d.error("不支持的文件格式"),!1)};return(e,a)=>{const u=b;return m(),_("div",A,[f(u,{"file-list":t.value,name:"file",multiple:!0,accept:g.value,beforeUpload:F,onRemove:x,class:"ant-upload-drag"},{default:k(()=>[s("div",D,[f(S(U))]),N,s("div",R,[W,s("p",null,[z,(m(),_(T,null,B(i,n=>s("span",{class:"ant-upload-hint-ext",key:n},"."+C(n),1)),64))])])]),_:1},8,["file-list","accept"])])}}},q=L(E,[["__scopeId","data-v-a09e6413"]]);export{q as U};
